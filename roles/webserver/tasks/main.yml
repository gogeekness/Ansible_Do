# webserver/tasks file
---

- name: Log into DockerHub
  docker_login:
    username: rdeseke
    password: {{ Docker_password }}

- name: install pip
  apt: name=python-pip state=present

- name: install docker-py package
  pip:  name=docker-py

- name: Build docker image from Dockerfile
  docker_image:
    name: web
    path: /home/rdeseke/Ansible_Do/docker
    state: build

- name: Running the container
  docker_container:
    image: web:latest
    path: /home/rdeseke/Ansible_Do/docker
    state: running

- name: Check if container is running
  shell: docker psgit pull

...

